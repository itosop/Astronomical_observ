<!DOCTYPE html>
<html>
  <head>
    <title>星座早見盤の自動回転</title>
    <meta charset="utf-8" />
    <script>
      function compass_rotate(x){
	var image = document.getElementById("img1");
	image.style.transform = "rotate("+ x + "deg)";
      }

      function select_img(){
	var hiduke = new Date();
	var month = hiduke.getMonth()+1;
	var day = hiduke.getDate();
	var hour = hiduke.getHours();
	var minute = hiduke.getMinutes();
	var minute_tmp = minute / 10;
	minute = minute_tmp * 10;

	if (month < 10) {
	  var tmpname = 'star'+ 0 + month;
	  if (day < 10) {
	    tmpname = tmpname + '0' + day + '_';
	    if (hour < 10) {
	      tmpname = tmpname + 0 + hour;
	      if (minute == 0) {
		var filename = tmpname + '00' + '.png';
	      }
	      else {
		var filename = tmpname + minute + '.png';
	      }
	    }
	    else {
	      tmpname = tmpname + hour;
	      if (minute == 0) {
                var filename = tmpname + '00' + '.png';
              }
              else {
                var filename = tmpname + minute + '.png';
              }
	    }
	  }
	  else {
	    tmpname = tmpname + day + '_';
	    if (hour < 10) {
              tmpname = tmpname + 0 + hour;
              if (minute == 0) {
                var filename = tmpname + '00' + '.png';
              }
              else {
                var filename = tmpname + minute + '.png';
              }
            }
            else {
              tmpname = tmpname + hour;
              if (minute == 0) {
                var filename = tmpname + '00' + '.png';
              }
              else {
                var filename = tmpname + minute + '.png';
              }
            }
	  }
	}
	else {
	  if (day < 10) {
            tmpname = tmpname + '0' + day + '_';
            if (hour < 10) {
              tmpname = tmpname + 0 + hour;
              if (minute == 0) {
                var filename = tmpname + '00' + '.png';
              }
              else {
                var filename = tmpname + minute + '.png';
              }
            }
            else {
              tmpname = tmpname + hour;
              if (minute == 0) {
                var filename = tmpname + '00' + '.png';
              }
              else {
                var filename = tmpname + minute + '.png';
              }
            }
          }
          else {
            tmpname = tmpname + day + '_';
            if (hour < 10) {
              tmpname = tmpname + 0 + hour;
              if (minute == 0) {
                var filename = tmpname + '00' + '.png';
              }
              else {
                var filename = tmpname + minute + '.png';
              }
            }
            else {
              tmpname = tmpname + hour;
              if (minute == 0) {
                var filename = tmpname + '00' + '.png';
              }
	      else {
                var filename = tmpname + minute + '.png';
              }
            }
	  }
	}
	return filename;
      }
    </script>
  </head>

  <body>
    <!-- <style> -->
    <h1>星座の早見盤を自動で回転させます．</h1>
      <img src="select_img()" id="in_img">
      <button type="button" class="btn">button</button>
    <!-- </style> -->
    <link rel="stylesheet" href="style.css">
  </body>
</html>
